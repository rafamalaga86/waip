{% extends 'parts/base.html' %}

{% block main %}
  <div class="container">
    <section class="title">
      <h1 class="text-center">Add a game</h1>
    </section>
    <section class="row">
      <div class="col">
        {# Scrap Game Form #}
        {{ form.non_field_errors }}
        <form id="form-scrap" onsubmit="return false">
          {% csrf_token %}
          <div class="form-group">
            <label for="exampleInputEmail1">URL of Metacritic:</label>
            <input class="form-control" type="url" placeholder="http://www.metacritic.com/game/pc/pony-island" name="metacriticUrl" id="id_metacriticUrl" value="http://www.metacritic.com/game/pc/pony-island">
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">URL of HowLongToBeat:</label>
            <input class="form-control" type="url" placeholder="https://howlongtobeat.com/game.php?id=33405" name="hltbUrl" id="id_hltbUrl" value="https://howlongtobeat.com/game.php?id=33405">
          </div>
          <button class="btn btn-primary" type="submit">Scrap Game</button>
        </form>
        <p></p>
        <p>You can autofill the next fields by scrapping. Fill up the previous form with Metacritic and HowLongToBeat URLs</p>
      </div>






      <div class="col">
        {# New Game Form #}
        {{ form.non_field_errors }}
        <form class="form-add-game" action="{% url 'add_game' %}" method="POST">
          {% csrf_token %}
          <ul>
            <li class="form-group">
              <label for="id_name">Name*:</label>
              <input value="{{ game.name }}" class="form-control" type="text" name="name" maxlength="255" required="" id="id_name">
              <small class="field-errors">{{ game_form.name.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_coverUrl">Cover Url from HowLongToBeat*:</label>
              <input value="{{ game.coverUrl }}" class="form-control" type="url" name="coverUrl" maxlength="255" required="" id="id_coverUrl"></li>
              <small class="field-errors">{{ game_form.coverUrl.errors.as_text }}</small>
            <li class="form-group">
              <label for="id_hltbLength">HowLongToBeat Length*:</label>
              <input value="{{ game.hltbLength }}" class="form-control" type="text" name="hltbLength" maxlength="255" id="id_hltbLength">
              <small class="field-errors">{{ game_form.hltbLength.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_synopsis">Synopsis:</label>
              <textarea class="form-control" name="synopsis" cols="40" rows="10" id="id_synopsis">{{ game.synopsis }}</textarea>
              <small class="field-errors">{{ game_form.synopsis.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_releaseDate">Release Date:</label>
              <input value="{{ game.releaseDate }}" class="form-control" type="text" name="releaseDate" maxlength="255" id="id_releaseDate">
              <small class="field-errors">{{ game_form.releaseDate.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_developer">Developer:</label>
              <input value="{{ game.developer }}" class="form-control" type="text" name="developer" maxlength="255" id="id_developer">
              <small class="field-errors">{{ game_form.developer.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_genres">Genres:</label>
              <input value="{{ game.genres }}" class="form-control" type="text" name="genres" maxlength="255" id="id_genres">
              <small class="field-errors">{{ game_form.genres.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_metacriticScore">Metacritic Score:</label>
              <input value="{{ game.metacriticScore }}" class="form-control" type="text" name="metacriticScore" maxlength="255" id="id_metacriticScore">
              <small class="field-errors">{{ game_form.metacriticScore.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_startedAt">You started playing at:</label>
              <input value="{{ game.startedAt|date:'Y-m-d' }}" class="form-control" type="date" name="startedAt" id="id_startedAt">
              <small class="field-errors">{{ game_form.startedAt.errors.as_text }}</small>
            </li>
            <li class="form-group">
              <label for="id_finishedAt">You finished the game at:</label>
              <input value="{{ game.finishedAt|date:'Y-m-d' }}" class="form-control" type="date" name="finishedAt" id="id_finishedAt">
              <small class="field-errors">{{ game_form.finishedAt.errors.as_text }}</small>
            </li>
          </ul>
          <button class="btn btn-primary" type="submit">Add Game</button>
        </form>
      </div>
    </section>
  </div>

{% endblock %}